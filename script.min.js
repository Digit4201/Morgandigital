function sanitizeHTML(t){const e=document.createElement('div');return e.textContent=t,e.innerHTML}const SECURITY_CONFIG={MAX_RETRIES:3,CSRF_TOKEN_LENGTH:32,SESSION_TIMEOUT:36e5,MAX_INPUT_LENGTH:{name:50,email:254,message:2e3},ALLOWED_HTML_TAGS:['span','strong','em']},translations={en:{nav_advantages:"Advantages",nav_portfolio:"Portfolio",nav_process:"Process",nav_free_quote:"Free Quote",hero_badge:"🚀 Expert Landing Pages",hero_title_1:'I create <span class="gradient-text">Landing Pages</span> that convert your visitors into customers',hero_subtitle:"Specializing in online coaches and trainers, I design custom sales pages that turn your expertise into predictable income.",hero_cta_button:"Request your free quote",hero_stat_1:"Average conversion rate",hero_stat_2:"Express delivery",benefits_badge:"Why choose me",benefits_title:'Landing Pages designed to <span class="gradient-text">convert</span>',benefits_subtitle:"Every element is optimized to turn your visitors into paying customers"},fr:{nav_advantages:"Avantages",nav_portfolio:"Portfolio",nav_process:"Processus",nav_free_quote:"Devis Gratuit",hero_badge:"🚀 Expert Landing Pages",hero_title_1:'Je crée des <span class="gradient-text">Landing Pages</span> qui convertissent vos visiteurs en clients',hero_subtitle:"Spécialisé dans l'accompagnement des coachs et formateurs en ligne, je conçois des pages de vente sur-mesure qui transforment votre expertise en revenus prévisibles.",hero_cta_button:"Demander votre devis gratuit",hero_stat_1:"Taux de conversion moyen",hero_stat_2:"Livraison express",benefits_badge:"Pourquoi me choisir",benefits_title:'Des Landing Pages conçues pour <span class="gradient-text">convertir</span>',benefits_subtitle:"Chaque élément est optimisé pour transformer vos visiteurs en clients payants"}};function initLanguageSwitcher(){const t=document.getElementById('lang-btn');if(!t)return;const e=window.location.pathname.includes('index-fr.html')?'fr':'en';updateContent(e)}function updateContent(t){const e=translations[t];e&&document.querySelectorAll('[data-translate]').forEach(t=>{const n=t.getAttribute('data-translate'),o=e[n];o&&(t.innerHTML=o)})}function initThemeToggle(){const t=document.querySelector('.theme-toggle');if(!t)return;const e=window.matchMedia('(prefers-color-scheme: dark)'),n=localStorage.getItem('theme');("dark"===n||!n&&e.matches)?document.body.classList.add('dark-mode'):document.body.classList.remove('dark-mode'),t.addEventListener('click',()=>{document.body.classList.toggle('dark-mode');const t=document.body.classList.contains('dark-mode')?'dark':'light';localStorage.setItem('theme',t)})}function initFloatingOffer(){const t=document.querySelector('.floating-offer'),e=document.querySelector('.floating-close');t&&e&&e.addEventListener('click',()=>{t.style.display='none'})}function initCursorEffects(){if(window.innerWidth<=768)return;const t=document.querySelector('.cursor'),e=document.querySelector('.cursor-follower');if(!t||!e)return;let n=0,o=0,r=0,i=0;document.addEventListener('mousemove',s=>{n=s.clientX,o=s.clientY,t.style.left=n+'px',t.style.top=o+'px'}),setInterval(()=>{r+=(n-r)*.1,i+=(o-i)*.1,e.style.left=r+'px',e.style.top=i+'px'},16),document.querySelectorAll('a, button').forEach(n=>{n.addEventListener('mouseenter',()=>{t.classList.add('active'),e.classList.add('active')}),n.addEventListener('mouseleave',()=>{t.classList.remove('active'),e.classList.remove('active')})})}function initScrollAnimations(){const t=new IntersectionObserver((t,e)=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add('is-visible'),e.unobserve(t.target))})},{threshold:.1,rootMargin:'0px 0px -80px 0px'}),e=document.querySelectorAll('.benefit-card, .portfolio-item, .process-step, .testimonial-card, .pricing-card');e.forEach((e,n)=>{e.style.setProperty('--animation-delay',120*n+'ms'),t.observe(e)});const n=document.createElement('style');n.textContent=`
.benefit-card, .portfolio-item, .process-step, .testimonial-card, .pricing-card {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease;
    transition-delay: var(--animation-delay, 0ms);
}
.benefit-card.is-visible, .portfolio-item.is-visible, .process-step.is-visible, .testimonial-card.is-visible, .pricing-card.is-visible {
    opacity: 1;
    transform: translateY(0);
}`,document.head.appendChild(n)}document.addEventListener('DOMContentLoaded',()=>{console.log('🚀 Application Morgan Digital démarrée');try{initFloatingOffer(),initCursorEffects(),initScrollAnimations(),initThemeToggle();const t=document.querySelector('.mobile-menu-toggle'),e=document.querySelector('.nav-menu');t&&e&&(t.addEventListener('click',function(){e.classList.toggle('active'),this.classList.toggle('active');const t=this.querySelectorAll('span');e.classList.contains('active')?(t[0].style.transform='rotate(45deg) translate(6px, 6px)',t[1].style.opacity='0',t[2].style.transform='rotate(-45deg) translate(7px, -7px)',document.body.style.overflow='hidden'):(t[0].style.transform='none',t[1].style.opacity='1',t[2].style.transform='none',document.body.style.overflow='')}),e.querySelectorAll('a').forEach(n=>{n.addEventListener('click',()=>{if(e.classList.contains('active')){e.classList.remove('active'),t.classList.remove('active');const n=t.querySelectorAll('span');n[0].style.transform='none',n[1].style.opacity='1',n[2].style.transform='none',document.body.style.overflow=''}})}),window.addEventListener('resize',()=>{if(window.innerWidth>768&&e.classList.contains('active')){e.classList.remove('active'),t.classList.remove('active');const n=t.querySelectorAll('span');n[0].style.transform='none',n[1].style.opacity='1',n[2].style.transform='none',document.body.style.overflow=''}}));const n=document.querySelector('.urgency-close');n&&n.addEventListener('click',()=>{document.querySelector('.urgency-banner').style.display='none'}),console.log('✅ Application initialisée avec succès')}catch(t){console.error('❌ Erreur lors de l\\'initialisation:',t)}}),window.addEventListener('error',t=>{console.error('Erreur JavaScript:',t.error)}),window.addEventListener&&window.addEventListener('securitypolicyviolation',t=>{console.warn('Violation CSP:',t.violatedDirective)});